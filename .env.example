# =========================
# SAUC v3 实时语音识别桥接服务 环境示例
# 复制为 .env 并按需修改。所有键可被查询参数临时覆盖（仅联调）。
# =========================

# 服务监听
ASR_HOST=0.0.0.0
ASR_PORT=8081

# SAUC 后端配置（必填 APP_KEY/ACCESS_KEY/RESOURCE_ID）
BACKEND_URL=wss://openspeech.bytedance.com/api/v3/sauc/bigmodel_async
APP_KEY=
ACCESS_KEY=
RESOURCE_ID=volc.bigasr.sauc.duration

# 对话后端（SSE/JSON），用于将识别文本提交给你的聊天服务
DIALOG_URL=http://0.0.0.0:8084/chat/stream
DIALOG_MODE=sse
VOICE_ID=demo-voice
SYSTEM_PROMPT=你是一个礼貌且简洁的助手。

# 断句与流式提交控制
DIALOG_PUNCT_STRONG=。！？!?….
DIALOG_PUNCT_SOFT=，、；;,
DIALOG_AUTOF_FLUSH_LEN=12
DIALOG_SOFT_FLUSH_LEN=20
DIALOG_ENABLE_SOFT_SUBMIT=true
# 静默自动提交阈值（毫秒）。当识别文本在该时间内没有增长，视为一句话结束并提交。
DIALOG_SILENCE_FLUSH_MS=1200

# ASR 前端结果去重与节流
RESULT_DEDUP=true
RESULT_MIN_DELTA=0
RESULT_DEBOUNCE_MS=0

# =========================
# 语音克隆 TTS 集成（当对话后端返回 reply 时，触发文本转语音并推送到前端）
# =========================

# 是否启用语音克隆
VOICE_CLONE_ENABLED=false

# TTS 服务入口（HTTP 直流式单段）：返回 Content-Type: audio/mpeg
# 可选值：
#   /api/tts/stream            单次文本直接音频流（推荐）
#   /api/tts/stream_segments   多段文本拼接直流（预留）
VOICE_CLONE_URL=http://0.0.0.0:8085/api/tts/stream

# 模式：stream（HTTP 单段直流）；segments_http（预留，多段直流）
VOICE_CLONE_MODE=stream

# 语音风格/说话人类型（由 TTS 服务定义）
VOICE_CLONE_VOICE_TYPE=demo

# 是否仅在最终回复触发 TTS（true/false）。为 false 时增量也触发。
VOICE_CLONE_SEND_FINAL_ONLY=false

# 返回音频采样率（信息标注用，MP3 实际采样率由服务决定，默认 24kHz）
VOICE_CLONE_SAMPLE_RATE=24000

# 可选：由 TTS 服务侧保存生成音频的路径（若不需要则留空）
VOICE_CLONE_SAVE_PATH=

# 保存模式（append/overwrite，具体由 TTS 服务解释；本服务仅传递）
VOICE_CLONE_SAVE_MODE=append